// HologramManager.java
package com.example.storytell.init.blocks;

import java.util.HashMap;
import java.util.Map;

public class HologramManager {

    // Карта сопоставления ключевых слов/фраз с текстом
    private static final Map<String, String> TEXT_MAPPINGS = new HashMap<>();

    static {
        // Инициализация сопоставлений
        initializeMappings();
    }
    //sethologram "Наконец мы можем вести полноценное общение. Эта линия защищена и вы можете задавать вопросы. Мы постараемся ответить"
    private static void initializeMappings() {
        // Русские команды
        TEXT_MAPPINGS.put("кто вы", "Мы остатки человечества. За нами ведется охота");
        TEXT_MAPPINGS.put("сосал?", "Да");
        TEXT_MAPPINGS.put("Амогус", "SUS");
        TEXT_MAPPINGS.put("радио", "Мы отправили его вам");
        TEXT_MAPPINGS.put("взлом", "Они пытаются помешать нам");
        TEXT_MAPPINGS.put("что произошло", "Конец человечества");
        TEXT_MAPPINGS.put("охота", "Они хотят уничтожить остатки живых");
        TEXT_MAPPINGS.put("они", "Мы не можем доверять вам полностью");
        TEXT_MAPPINGS.put("убежище", "Мы не можем доверять вам полностью");
        TEXT_MAPPINGS.put("бункер", "Мы не можем доверять вам полностью");
        TEXT_MAPPINGS.put("где вы", "Мы не можем доверять вам полностью");
        TEXT_MAPPINGS.put("спутник", "Спутник - устройства слежки за остатками живых существ. Будьте аккуратны, неизвестно когда они решат действовать");
        TEXT_MAPPINGS.put("обьект в небе", "Спутник - устройства слежки за остатками живых существ. Будьте аккуратны, неизвестно когда они решат действовать");
        TEXT_MAPPINGS.put("монстр", "Они оружие, созданное для уничтожения остатков человечества");
        TEXT_MAPPINGS.put("босс", "Они оружие, созданное для уничтожения остатков человечества");
        TEXT_MAPPINGS.put("привет", "Здравствуйте");
        TEXT_MAPPINGS.put("помогите", "Мы не можем еще сильнее помочь вам. Наши возможности ограничены");
        TEXT_MAPPINGS.put("конец", "Конец человечества произошел из-за взрыва реактора. он дестабилизировал ядро и вызвал коллапс");
        TEXT_MAPPINGS.put("колапс", "Конец человечества произошел из-за взрыва реактора. он дестабилизировал ядро и вызвал коллапс");
        TEXT_MAPPINGS.put("апокал", "Конец человечества произошел из-за взрыва реактора. он дестабилизировал ядро и вызвал коллапс");
        TEXT_MAPPINGS.put("лазер", "Мы предупреждали, что они действуют сверху");
        TEXT_MAPPINGS.put("сигнал", "Мы стараемся скрывать наши частоты");
        TEXT_MAPPINGS.put("координаты", "Мы передаем только то, что считаем нужным");
        TEXT_MAPPINGS.put("выжившие", "Мы не можем раскрывать информацию");
        TEXT_MAPPINGS.put("сколько", "Вас");
        TEXT_MAPPINGS.put("руины", "Это все, что осталось от их вмешательства");
        TEXT_MAPPINGS.put("сколько вас осталось", "Меньше, чем хотелось бы. Больше сказать не можем");
        TEXT_MAPPINGS.put("крушение", "Ваше появление было неожиданным, но своевременным");
        TEXT_MAPPINGS.put("спаслись", "Мы выжили случайно. Больше сказать не можем");
        TEXT_MAPPINGS.put("убивает сверху", "Это они. У них хватает мощности для точечных ударов");
        TEXT_MAPPINGS.put("следит", "Вы попали в их поле интереса. Это плохо");
        TEXT_MAPPINGS.put("слежка", "Вы попали в их поле интереса. Это плохо");
        TEXT_MAPPINGS.put("шпион", "Вы попали в их поле интереса. Это плохо");
        TEXT_MAPPINGS.put("почему не можете", "Любая утечка смертельна для всех нас");
        TEXT_MAPPINGS.put("контролирует", "Не спрашивайте. Это привлечет внимание");
        TEXT_MAPPINGS.put("разрушенный", "Коллапс уничтожил почти всё. Смиритесь");
        TEXT_MAPPINGS.put("еще выжившие", "Если и есть, они давно скрываются");
        TEXT_MAPPINGS.put("нас найти", "Им достаточно обнаружить вас один раз");
        TEXT_MAPPINGS.put("убивать боссов", "Это часть плана по выживанию. Не обсуждается");
        TEXT_MAPPINGS.put("убивать монстров", "Это часть плана по выживанию. Не обсуждается");
        TEXT_MAPPINGS.put("убить боссов", "Это часть плана по выживанию. Не обсуждается");
        TEXT_MAPPINGS.put("убить монстров", "Это часть плана по выживанию. Не обсуждается");
        TEXT_MAPPINGS.put("спрятаться", "Скрыться сложно. Они видят больше, чем кажется");
        TEXT_MAPPINGS.put("аномал", "Это последствия. Мы не можем это остановить");
        TEXT_MAPPINGS.put("закончит", "Мы не уверены. Делайте, что должны");
        TEXT_MAPPINGS.put("после послед", "Сначала переживите его. Потом будем думать");
        TEXT_MAPPINGS.put("не выходи", "Мы не могли рисковать. Они были слишком близко");
        TEXT_MAPPINGS.put("услышать вас", "Это слишком опасно. Они бы засекли нас сразу");
        TEXT_MAPPINGS.put("отключить", "Не пытайтесь. Это вас выдаст");
        TEXT_MAPPINGS.put("механические звуки", "Они всегда наблюдают. Не смотрите вверх");
        TEXT_MAPPINGS.put("вы нашли нас", "Ваш корабль был слишком громким. Они тоже заметили");
        TEXT_MAPPINGS.put("почему мы", "У нас нет другого выбора");


    }

    /**
     * Обрабатывает команду и возвращает соответствующий текст /sethologram 'Здавствуйте. Наконец у нас есть защищенная линия связи. Она энергозатратна, поэтому задавайте простые вопросы'
     */
    public static String processCommand(String command) {
        String lowerCommand = command.toLowerCase().trim();

        // 1. Точное совпадение
        if (TEXT_MAPPINGS.containsKey(lowerCommand)) {
            return TEXT_MAPPINGS.get(lowerCommand);
        }

        // 2. Частичное совпадение - ищем ключевые слова в команде
        for (Map.Entry<String, String> entry : TEXT_MAPPINGS.entrySet()) {
            if (lowerCommand.contains(entry.getKey())) {
                return entry.getValue();
            }
        }

        // 3. Если ничего не найдено - возвращаем null
        return null;
    }

    /**
     * Добавляет новое сопоставление (можно использовать для динамического добавления команд)
     */
    public static void addMapping(String command, String text) {
        TEXT_MAPPINGS.put(command.toLowerCase(), text);
    }

    /**
     * Возвращает все доступные сопоставления
     */
    public static Map<String, String> getAllMappings() {
        return new HashMap<>(TEXT_MAPPINGS);
    }
}